var jsNav=function(i){var n,t,s,a,o,l,d,c,m,r,u,v,f,h,_,p,C,g,k,T,D,b,w=!1,$=150;function P(e){k&&clearTimeout(k),k=setTimeout(function(){e.removeClass("inactive").addClass("active "),e.siblings(".active").removeClass("active "),e.add(e.siblings()).find(".active").removeClass("active"),E(e),D.addClass("mn--opened"),b.addClass("header--opened"),isIE8&&(s.addClass("ie8--change"),setTimeout(function(){s.removeClass("ie8--change")},120)),e.attr("data-menu-active",!0)},$)}function j(e){k&&clearTimeout(k),T&&(clearTimeout(T),T=null),T=setTimeout(function(){e.hasClass("active")&&e.hasClass("to-sub")&&e.addClass("active-leaving"),0==w&&e.closest("ul").find(".active").removeClass("active"),e.removeClass("active").off(cssTransEnd).one(cssTransEnd,function(){e.removeClass("active-leaving")}),s.removeClass("inactive"),D.removeClass("mn--opened"),b.removeClass("header--opened"),isIE8&&(s.addClass("ie8--change"),setTimeout(function(){s.removeClass("ie8--change")},120))},$)}function E(e){var n,t=e,s=t.closest(".mn-drop__height-control"),a=t.closest("ul"),i=null;s.length&&(i=t.find("> ul").length?(n=t.find("> ul"),Math.max(n.height(),a.height())):a.height(),s.css("height",i))}function U(){var e;i(".mn-drop__menu").length&&(e=i(".mn-drop__inner").width()-(i(".mn-drop__menu").eq(0).outerWidth()+i(".mn-drop__menu").eq(0).position().left),m.width(e))}function I(e){var n=e,t=n.closest("ul").find(".js-border-indicator");t.length&&t.css({top:n.position().top,height:n.outerHeight()})}function q(e){var n=e.closest("ul").find(".js-border-indicator");n.length&&n.css({height:0})}function x(){var a=i(window).innerWidth();c.each(function(){var e=i(this);e.css("left","");var n=e.offset().left+e.width(),t=parseInt(e.css("left"),10),s=a-n;a<n&&e.css("left",s+t+"px")})}function y(){s.each(function(){var e=i(this),n=e.find(".mn-sm__list--3, .mn__list--3").length?2:null;(n=e.find(".mn-sm__list--4, .mn__list--4").length?3:n)&&(e.offset().left+300*n>i(window).width()?e.addClass("align-right"):e.removeClass("align-right"))})}return{init:function(){var e;n=i(".mn__nav"),t=n.find("li"),v=n.find("a"),u=n.find(".mn-sm__self-no-link"),s=n.find(".mn__item--1, .mn-sm__item--1"),a=n.find(".mn__item--2, .mn-sm__item--2"),o=n.find(".mn__item--3, .mn-sm__item--3"),l=n.find(".mn__item--4, .mn-sm__item--4"),d=n.find(".mn__item--5, .mn-sm__item--5"),f=n.find(".mn__link--1, .mn-sm__link--1"),h=n.find(".mn__link--2, .mn-sm__link--2"),_=n.find(".mn__link--3, .mn-sm__link--3"),p=n.find(".mn__link--4, .mn-sm__link--4"),C=n.find(".mn__link--5, .mn-sm__link--5"),$ul_lv1=n.find(".mn__list--1"),c=n.find(".mn__list--2, .mn-sm__list--2"),m=n.find(".mn__list--3, .mn-sm__list--3"),m=n.find(".mn__list--3, .mn-sm__list--3"),r=n.find(".mn__list--4, .mn-sm__list--4"),$ul_lv5=n.find(".mn__list--5, .mn-sm__list--5"),g=n.find(".mn__sub, .mn-sm__item--2"),D=i("body"),b=i(".page-head"),Modernizr.touchevents||(s.add(a,o,l,d).on("mouseenter",function(){w=!0}),s.add(a,o,l,d).on("mouseleave",function(){w=!1}),s.on("mouseenter",function(){P(i(this))}),s.on("mouseleave",function(){j(i(this))}),a.on("mouseenter",function(){P(i(this))}),a.on("mouseleave",function(){j(i(this))}),o.on("mouseenter",function(){var e=i(this);P(e),I(e)}),o.on("mouseleave",function(){var e=i(this);I(e),j(e)}),l.on("mouseenter",function(){P(i(this))}),l.on("mouseleave",function(){j(i(this))}),g.on("mouseenter",function(){i(this);T&&clearTimeout(T)}),m.on("mouseenter",function(){i(this);T&&(clearTimeout(T),T=null)}),m.on("mouseleave",function(){i(this);q(m)}),r.on("mouseenter",function(){i(this);T&&(clearTimeout(T),T=null)}),r.on("mouseleave",function(){i(this);q(m)}),$ul_lv5.on("mouseenter",function(){i(this);T&&(clearTimeout(T),T=null)}),$ul_lv5.on("mouseleave",function(){i(this);q(m)})),v.on("focus",function(){t.removeClass("active"),i(this).parentsUntil(n).addClass("active"),D.addClass("mn--opened"),b.addClass("header--opened")}),v.on("blur",function(){i(this).parentsUntil(n).removeClass("active"),D.removeClass("mn--opened"),b.removeClass("header--opened"),E(i(this).closest("li"))}),$ul_lv1.on("focus mouseover",function(){b.addClass("header--focus")}),$ul_lv1.on("blur mouseleave",function(){b.removeClass("header--focus")}),v.add(c,m,r,$ul_lv5).on("touchstart",function(e){e.stopPropagation()}),v.on("focus mouseover",function(){t.removeClass("hover-active"),i(this).parent().addClass("hover-active")}),v.on("blur mouseleave",function(){i(this).parent().removeClass("hover-active")}),u.on("focus",function(){t.removeClass("active"),i(this).parentsUntil(n).addClass("active"),D.addClass("mn--opened"),b.addClass("header--opened")}),u.on("blur",function(){i(this).parentsUntil(n).removeClass("active"),D.removeClass("mn--opened"),b.removeClass("header--opened"),E(i(this).closest("li"))}),u.add(c,m,r,$ul_lv5).on("touchstart",function(e){e.stopPropagation()}),u.on("focus mouseover",function(){t.removeClass("hover-active"),i(this).parent().addClass("hover-active")}),u.on("blur mouseleave",function(){i(this).parent().removeClass("hover-active")}),f.on("touchstart",function(e){var n=i(this);e.stopPropagation(),n.data("clicked")||(e.preventDefault(),s.removeClass("active"),f.removeData("clicked"),n.data("clicked",!0),n.parent().addClass("active"),D.addClass("mn--opened"),b.addClass("header--opened"))}),h.on("touchstart",function(e){var n=i(this);e.stopPropagation(),n.data("clicked")||(e.preventDefault(),a.removeClass("active"),h.removeData("clicked"),n.data("clicked",!0),n.parent().addClass("active"),E(n.parent()),D.addClass("mn--opened"),b.addClass("header--opened"))}),_.on("touchstart",function(e){var n=i(this);e.stopPropagation(),n.data("clicked")||(e.preventDefault(),o.removeClass("active"),_.removeData("clicked"),n.data("clicked",!0),n.parent().addClass("active"),D.addClass("mn--opened"),b.addClass("header--opened"))}),p.on("touchstart",function(e){var n=i(this);e.stopPropagation(),n.data("clicked")||(e.preventDefault(),l.removeClass("active"),p.removeData("clicked"),n.data("clicked",!0),n.parent().addClass("active"),D.addClass("mn--opened"),b.addClass("header--opened"))}),i(document).on("touchstart",function(e){s.removeClass("active"),f.removeData("clicked"),a.removeClass("active"),h.removeData("clicked"),o.removeClass("active"),_.removeData("clicked"),l.removeClass("active"),p.removeData("clicked"),d.removeClass("active"),C.removeData("clicked"),D.removeClass("mn--opened"),b.removeClass("header--opened")}),g.on("touchstart",function(e){e.stopPropagation(),e.preventDefault()}),e=null,i(window).on("resize",function(){e&&(clearTimeout(e),e=null),e=setTimeout(function(){U(),y()},80),x()}),U(),y(),m.each(function(){var e=i(this);e.is(".mn__list--3")&&e.append('<li class="js-border-indicator" aria-hidden="true" />')}),x()}}}(jQuery);